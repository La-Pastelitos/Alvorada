<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light" />
    <title>L√° Pastelito‚Äôs</title>
    <link rel="stylesheet" href="cardapio-style.css" />
  </head>
  <body>
    <header>
      <button id="menu" class="btn-admim">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          width="23"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
          />
        </svg>
      </button>

      <button id="pedidos">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          width="23"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"
          />
        </svg>
        <span id="count-carrinho">0</span>
      </button>
      <img
        src="./images/Logo-La-Pastelitos-sem-fundo.png"
        alt="Logo L√° Pastelito‚Äôs"
        class="logo"
      />
      <nav>
        <button class="nav-btn" onclick="mostrarCategoria('salgados')">
          Pasteis Salgados
        </button>
        <button class="nav-btn" onclick="mostrarCategoria('doces')">
          Pasteis Doces
        </button>
        <button class="nav-btn" onclick="mostrarCategoria('bebidas')">
          Bebidas
        </button>
        <button class="nav-btn" onclick="mostrarCategoria('porcoes')">
          Por√ß√µes
        </button>
      </nav>
    </header>
    <!-- MENU LATERAL -->
    <div id="sidebar-overlay"></div>

    <aside id="sidebar">
      <button id="close-sidebar">&times;</button>

      <h3>Menu Administrativo</h3>

      <ul class="sidebar-options">
        <li onclick="abrirModal2('modal-add-pastel')">Adicionar Pastel</li>
        <li onclick="abrirModal2('modal-add-molho')">Adicionar Molho</li>
        <li onclick="abrirModal2('modal-editar-logo')">Editar Logo</li>
        <li onclick="abrirModal2('modal-vendas')">Vendas</li>
      </ul>
    </aside>

    <!-- MODAL: ADICIONAR PASTEL -->
    <div class="admin-modal" id="modal-add-pastel">
      <div class="admin-modal-content">
        <span class="fechar-modal" onclick="fecharModal2('modal-add-pastel')"
          >&times;</span
        >
        <h2>Adicionar Pastel</h2>

        <label>Categoria:</label>
        <select id="pastel-categoria">
          <option value="salgados">Salgado</option>
          <option value="doces">Doce</option>
          <option value="porcoes">Por√ß√£o</option>
          <option value="bebidas">Bebidas</option>
        </select>

        <label>Imagem:</label>
        <input type="file" id="pastel-imagem" />

        <label>Nome:</label>
        <input type="text" id="pastel-nome" />

        <label>Descri√ß√£o:</label>
        <textarea id="pastel-descricao"></textarea>

        <label>Pre√ßo:</label>
        <input type="number" step="0.01" id="pastel-preco" />

        <button onclick="salvarPastel()">Salvar</button>
        <p class="msg-retorno" id="msg-pastel" style="display: none"></p>
      </div>
    </div>

    <!-- MODAL: ADICIONAR MOLHO -->
    <div class="admin-modal" id="modal-add-molho">
      <div class="admin-modal-content">
        <span class="fechar-modal" onclick="fecharModal2('modal-add-molho')"
          >&times;</span
        >
        <h2>Adicionar Molho</h2>

        <label>Categoria:</label>
        <select id="molho-categoria">
          <option value="salgados">Salgado</option>
          <option value="doces">Doce</option>
          <option value="porcoes">Por√ß√£o</option>
        </select>

        <label>Nome:</label>
        <input type="text" id="molho-nome" />

        <label>Pre√ßo (R$):</label>
        <input type="number" step="0.01" id="molho-preco" />

        <button onclick="salvarMolho()">Salvar Molho</button>
        <p class="msg-retorno" id="msg-molho" style="display: none"></p>
      </div>
    </div>

    <!-- MODAL: EDITAR LOGO -->
    <div class="admin-modal" id="modal-editar-logo">
      <div class="admin-modal-content">
        <span class="fechar-modal" onclick="fecharModal2('modal-editar-logo')"
          >&times;</span
        >
        <h2>Editar Logo</h2>

        <label>Nova Imagem:</label>
        <input type="file" id="logo-imagem" />

        <button onclick="salvarLogo()">Salvar Logo</button>
        <p class="msg-retorno" id="msg-logo" style="display: none"></p>
      </div>
    </div>

    <!-- MODAL DE VENDAS -->
    <div class="admin-modal" id="modal-vendas">
      <div class="admin-modal-content">
        <span class="fechar-modal" onclick="fecharModal2('modal-vendas')"
          >&times;</span
        >
        <h2>Vendas</h2>
        <p>Nenhuma fun√ß√£o aqui ainda.</p>
        <p class="msg-retorno" id="msg-vendas" style="display: none"></p>
      </div>
    </div>

    <main>
      <section id="salgados" class="categoria ativa">
        <h2>Pasteis Salgados</h2>
        <div class="grid-produtos"></div>
      </section>
      <section id="doces" class="categoria">
        <h2>Pasteis Doces</h2>
        <div class="grid-produtos"></div>
      </section>
      <section id="bebidas" class="categoria">
        <h2>Bebidas</h2>
        <div class="grid-produtos"></div>
      </section>
      <section id="porcoes" class="categoria">
        <h2>Por√ß√µes</h2>
        <div class="grid-produtos"></div>
      </section>
      <div id="overlay" class="overlay"></div>
      <div id="modal-produto" class="modal">
        <span class="fechar" onclick="fecharModal()">&times;</span>
        <div class="modal-conteudo">
          <div class="modal-img-nome">
            <img id="modal-img" src="" alt="Foto do pastel" />
            <h2 id="modal-nome"></h2>
          </div>
          <div class="info-produto">
            <div class="modal-descricao">
              <p><strong>Descri√ß√£o:</strong></p>
              <p id="modal-descricao"></p>
            </div>
            <p><strong id="modal-preco"></strong></p>
            <label for="observacoes">Observa√ß√µes:</label>
            <textarea
              id="observacoes"
              placeholder="Ex: sem cebola..."
            ></textarea>
            <section class="molhos">
              <h2>Molhos:</h2>
              <div class="molho-adicionar"></div>
              <div class="molho-adicionar"></div>
            </section>
            <div class="preco-total">
              <p><strong>Pre√ßo total:</strong></p>
              <p id="modal-preco-total"></p>
            </div>
            <button id="btn-adicionar">Adicionar ao Pedido</button>
          </div>
        </div>
      </div>
      <!-- MODAL: EDITAR PASTEL -->
      <!-- ========== MODAL EDITAR PASTEL ========== -->
      <div id="modal-edit-pastel" class="admin-modal">
        <div class="modal-edit admin-modal-content">
          <span class="fechar-modal" onclick="fecharModal2('modal-edit-pastel')"
            >&times;</span
          >
          <h2>Editar Pastel</h2>

          <input type="hidden" id="edit-id" />

          <label>Nome:</label>
          <input id="edit-nome" type="text" />

          <label>Descri√ß√£o:</label>
          <textarea id="edit-descricao"></textarea>

          <label>Pre√ßo:</label>
          <input id="edit-preco" type="number" step="0.01" />

          <label>Categoria:</label>
          <select id="edit-categoria">
            <option value="salgados">Salgados</option>
            <option value="doces">Doces</option>
            <option value="bebidas">Bebidas</option>
            <option value="porcoes">Por√ß√µes</option>
          </select>

          <label>Imagem atual:</label>
          <img
            id="edit-imagem-preview"
            style="width: 150px; border-radius: 10px; margin-bottom: 10px"
          />

          <button onclick="salvarEdicaoPastel()" class="btn-adicionar">
            Salvar Altera√ß√µes
          </button>
        </div>
      </div>

      <!-- ===== MODAL SECRETO DE LOGIN ===== -->
      <div id="modal-secreto" class="modal" style="display: none">
        <div class="modal-conteudo" style="max-width: 350px">
          <span class="fechar" onclick="fecharModalSecreto()">&times;</span>
          <h2>Acesso Restrito</h2>

          <label for="secret-email">Email:</label>
          <input
            type="email"
            id="secret-email"
            class="input"
            placeholder="Digite o email"
          />

          <label for="secret-senha">Senha:</label>
          <input
            type="password"
            id="secret-senha"
            class="input"
            placeholder="Digite a senha"
          />

          <button onclick="validarAcesso()" class="btn-adicionar">
            Entrar
          </button>

          <p
            id="secret-erro"
            style="color: red; margin-top: 10px; display: none"
          >
            Email ou senha incorretos!
          </p>
        </div>
      </div>
    </main>
    <footer>
      <p>¬© 2025 L√° Pastelito‚Äôs ‚Äî Delivery T√° On üç¥</p>
      <p>Contato da loja: +55 69 99360-3059</p>
      <p>DEV: Jhonatan Henrique dos Santos Pinheiro da Silva</p>
      <p>Contato do DEV: +55 (69) 99389-7171</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.0/dist/umd/supabase.min.js"></script>
    <script>
      const supabase = window.supabase.createClient(
        "https://fbxixhpmuzeljhfsbcmo.supabase.co",
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZieGl4aHBtdXplbGpoZnNiY21vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMjEwOTAsImV4cCI6MjA3ODg5NzA5MH0.VSRxLsh57oTh71aa9dsC3W8kXuku1cI6R3AFdNnZ1-A"
      );
    </script>

    <script src="cardapio-main.js"></script>
  </body>
</html>
